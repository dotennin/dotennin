---
title: 在开发环境中代理 API 请求(Create React APP)
date: 2020-06-05 22:38:28
tags:
  - React
  - JavaScript
---

参考资料：&nbsp;<a href="https://www.html.cn/create-react-app/docs/proxying-api-requests-in-development/">https://www.html.cn/create-react-app/docs/proxying-api-requests-in-development/</a><div><br /></div><div>资料已经旧了， 所以更新一下使用方法</div><div><br /></div><div><h2 style="border: 0px; box-sizing: border-box; color: #24292e; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif; font-size: 24px; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: 1.25; margin: 1.5em 0px 16px; padding: 0px; vertical-align: baseline;">手动配置代理</h2></div><div><br /></div><div><span style="color: #24292e; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif; font-size: 16px;">创建&nbsp;</span><code style="background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; border: 0px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: 13.6px; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; padding: 3.2px 6.4px; vertical-align: baseline;">src/setupProxy.js</code><span style="color: #24292e; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif; font-size: 16px;">&nbsp;并将以下内容放入该文件中：</span></div><div><pre style="border: 0px; box-sizing: border-box; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin-bottom: 16px; margin-top: 0px; padding: 0px; vertical-align: baseline;"><code class="hljs css language-js" style="background: rgb(240, 240, 240); border-radius: 3px; border: 0px; box-sizing: border-box; display: block; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; overflow-wrap: normal; overflow: auto visible; padding: 1.25rem 1.5rem; vertical-align: baseline; word-break: normal;"><font color="#444444" face="SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace"><span style="font-size: 13.6px;"><b>const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function(app) {
app.use(createProxyMiddleware('/api', { target: 'https://xxxx', secure: false }));
};</b></span></font><span style="color: #444444; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: 13.6px; font-style: inherit; font-variant-caps: inherit; font-variant-ligatures: inherit; font-weight: inherit;">
</span></code><div style="color: #24292e; font-family: inherit; font-size: 16px;"><br /></div><div style="font-family: inherit; font-size: 16px;"><blockquote style="background-color: rgba(255, 229, 100, 0.3); border-bottom: 0px; border-image: initial; border-left: 8px solid rgb(255, 229, 100); border-right: 0px; border-top: 0px; box-sizing: border-box; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px 0px 16px; padding: 15px 30px 15px 15px; vertical-align: baseline; white-space: normal;"><p style="border: 0px; box-sizing: border-box; font-family: inherit; font-stretch: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><font size="4"><span style="border: 0px; box-sizing: border-box; color: #6a737d; font-family: inherit; font-stretch: inherit; font-style: inherit; font-variant: inherit; font-weight: 600; line-height: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">注意：</span><font color="#6a737d">&nbsp;如果需要代理 HTTPS 流， 一般会出现 SSL 的验证问题， 需要加上</font><font color="#d52c1f">secure: fase</font></font></p></blockquote></div></pre></div>
